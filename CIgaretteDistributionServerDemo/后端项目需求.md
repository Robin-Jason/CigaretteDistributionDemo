后端项目需求如下：

1. 数据库：以下为demo的三个表建表语句：

   ```
   DROP TABLE IF EXISTS demo_test_data;
   CREATE TABLE demo_test_data (
       id              INT AUTO_INCREMENT PRIMARY KEY COMMENT '主键ID',
       CIG_CODE        VARCHAR(32)   COMMENT '卷烟代码',
       CIG_NAME        VARCHAR(100)  COMMENT '卷烟名称',
       YEAR            YEAR          COMMENT '年份',
       MONTH           TINYINT       COMMENT '月份',
       WEEK_SEQ        TINYINT       COMMENT '周序号',
       DELIVERY_AREA   VARCHAR(100)  COMMENT '投放区域',
   
       D30 DECIMAL(18,2) DEFAULT NULL,
       D29 DECIMAL(18,2) DEFAULT NULL,
       D28 DECIMAL(18,2) DEFAULT NULL,
       D27 DECIMAL(18,2) DEFAULT NULL,
       D26 DECIMAL(18,2) DEFAULT NULL,
       D25 DECIMAL(18,2) DEFAULT NULL,
       D24 DECIMAL(18,2) DEFAULT NULL,
       D23 DECIMAL(18,2) DEFAULT NULL,
       D22 DECIMAL(18,2) DEFAULT NULL,
       D21 DECIMAL(18,2) DEFAULT NULL,
       D20 DECIMAL(18,2) DEFAULT NULL,
       D19 DECIMAL(18,2) DEFAULT NULL,
       D18 DECIMAL(18,2) DEFAULT NULL,
       D17 DECIMAL(18,2) DEFAULT NULL,
       D16 DECIMAL(18,2) DEFAULT NULL,
       D15 DECIMAL(18,2) DEFAULT NULL,
       D14 DECIMAL(18,2) DEFAULT NULL,
       D13 DECIMAL(18,2) DEFAULT NULL,
       D12 DECIMAL(18,2) DEFAULT NULL,
       D11 DECIMAL(18,2) DEFAULT NULL,
       D10 DECIMAL(18,2) DEFAULT NULL,
       D9  DECIMAL(18,2) DEFAULT NULL,
       D8  DECIMAL(18,2) DEFAULT NULL,
       D7  DECIMAL(18,2) DEFAULT NULL,
       D6  DECIMAL(18,2) DEFAULT NULL,
       D5  DECIMAL(18,2) DEFAULT NULL,
       D4  DECIMAL(18,2) DEFAULT NULL,
       D3  DECIMAL(18,2) DEFAULT NULL,
       D2  DECIMAL(18,2) DEFAULT NULL,
       D1  DECIMAL(18,2) DEFAULT NULL,
   
       bz  VARCHAR(255) DEFAULT NULL COMMENT '备注'
   );
   
   DROP TABLE IF EXISTS demo_test_clientNumdata;
   CREATE TABLE demo_test_clientNumdata (
       id               INT AUTO_INCREMENT PRIMARY KEY COMMENT '主键ID',
       URBAN_RURAL_CODE VARCHAR(50)  COMMENT '投放区域',
       D30 DECIMAL(18,2) DEFAULT NULL,
       D29 DECIMAL(18,2) DEFAULT NULL,
       D28 DECIMAL(18,2) DEFAULT NULL,
       D27 DECIMAL(18,2) DEFAULT NULL,
       D26 DECIMAL(18,2) DEFAULT NULL,
       D25 DECIMAL(18,2) DEFAULT NULL,
       D24 DECIMAL(18,2) DEFAULT NULL,
       D23 DECIMAL(18,2) DEFAULT NULL,
       D22 DECIMAL(18,2) DEFAULT NULL,
       D21 DECIMAL(18,2) DEFAULT NULL,
       D20 DECIMAL(18,2) DEFAULT NULL,
       D19 DECIMAL(18,2) DEFAULT NULL,
       D18 DECIMAL(18,2) DEFAULT NULL,
       D17 DECIMAL(18,2) DEFAULT NULL,
       D16 DECIMAL(18,2) DEFAULT NULL,
       D15 DECIMAL(18,2) DEFAULT NULL,
       D14 DECIMAL(18,2) DEFAULT NULL,
       D13 DECIMAL(18,2) DEFAULT NULL,
       D12 DECIMAL(18,2) DEFAULT NULL,
       D11 DECIMAL(18,2) DEFAULT NULL,
       D10 DECIMAL(18,2) DEFAULT NULL,
       D9  DECIMAL(18,2) DEFAULT NULL,
       D8  DECIMAL(18,2) DEFAULT NULL,
       D7  DECIMAL(18,2) DEFAULT NULL,
       D6  DECIMAL(18,2) DEFAULT NULL,
       D5  DECIMAL(18,2) DEFAULT NULL,
       D4  DECIMAL(18,2) DEFAULT NULL,
       D3  DECIMAL(18,2) DEFAULT NULL,
       D2  DECIMAL(18,2) DEFAULT NULL,
       D1  DECIMAL(18,2) DEFAULT NULL,
       TOTAL DECIMAL(18,2) DEFAULT NULL COMMENT '总计'
   );
   
   DROP TABLE IF EXISTS demo_test_ADVdata;
   CREATE TABLE demo_test_ADVdata (
       id              INT AUTO_INCREMENT PRIMARY KEY COMMENT '主键ID',
       CIG_CODE        VARCHAR(32)   COMMENT '卷烟代码',
       CIG_NAME        VARCHAR(100)  COMMENT '卷烟名称',
   		URS             DECIMAL(18,2) COMMENT 'URS',
   		ADV             DECIMAL(18,2) COMMENT '预投放量'
   );
ALTER TABLE demo_test_ADVdata
   ADD COLUMN DELIVERY_AREA VARCHAR(100) COMMENT '投放区域';

ALTER TABLE `demo_test_ADVdata`
  ADD COLUMN `DELIVERY_METHOD` VARCHAR(50) COMMENT '档位投放方式' AFTER `ADV`,
  ADD COLUMN `DELIVERY_ETYPE`  VARCHAR(50) COMMENT '扩展投放方式' AFTER `DELIVERY_METHOD`;
	
ALTER TABLE demo_test_ADVdata
  ADD COLUMN `YEAR`      YEAR      COMMENT '年份' AFTER `CIG_NAME`,
  ADD COLUMN `MONTH`     TINYINT   COMMENT '月份' AFTER `YEAR`,
  ADD COLUMN `WEEK_SEQ`  TINYINT   COMMENT '周序号' AFTER `MONTH`;
   
   
   

2. 服务层：

   + 从demo_test_ADVdata表中获得卷烟代码，卷烟名称以及预投放量（ADV）的值

   + 从demo_test_clientNumdata表中获取投放区域属性的值集合按照id从小到大去重存在于投放区域列表中即为AllRegionList，该列表缓存在服务层，从表中获取各区域和其30个档位客户数(D30-D1)对应的二维表数据也缓存在服务层，记为RegionCustomerList（这个矩阵大小应当为AllRegionList长度*30）

   + 从demo_test_data表中获取对应卷烟投放区域字段值，并将该字段值作为母字符串通过KMP匹配AllRegionList的元素，并将匹配成功的元素放入该卷烟的待投放区域列表（该列表值应当是demo_test_clientNumdata表中URBAN_RURAL_CODE存在的属性值），记为TargetRegionList，封装成一个方法，返回值即为TargetRegionList。

   + 按照算法需求描述的文件实现一个卷烟分配算法，并将该卷烟分配好的分配矩阵arr[TargetRegionList长度] [档位数]作为返回值封装成一个方法，arr[i] [j]表示区域i在第j个档位的投放量，区域数为投放区域列表的元素个数。

   + 接受来自控制器的请求

     

3. 控制层：

   + 能够接收前端传递的查询请求和参数，查询参数为{年份，月份，周序号}，在数据库demo_test_data中查询相关记录并整理成表格返回，返回表包括如下字段：{卷烟代码，卷烟名称，预投放量，实际投放量，D30,D29,...,D1，备注}，对于卷烟代码和卷烟名称相同的记录，如果仅仅投放区域不同而其余字段完全相同的记录，则合并为同一条记录返回，投放区域字段合并后的格式为区域1，区域2，...

   + 能够接收前端传递的修改请求和修改的记录，修改记录的字段为{D30,D29,...,D1}，可供查询数据库对应记录的参数为{卷烟代码，卷烟名称}

4. 数据持久层：缓存一些常用的数据