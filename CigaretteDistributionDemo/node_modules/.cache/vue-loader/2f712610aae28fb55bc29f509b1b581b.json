{"remainingRequest":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/robin/Desktop/CigaretteDistributionDemo/src/components/DataTable.vue?vue&type=style&index=0&id=1bcc6778&scoped=true&lang=css","dependencies":[{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/src/components/DataTable.vue","mtime":1756386183479},{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":499162500000},{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/robin/Desktop/CigaretteDistributionDemo/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5kYXRhLXRhYmxlLWNvbnRhaW5lciB7CiAgaGVpZ2h0OiAxMDAlOwogIGRpc3BsYXk6IGZsZXg7CiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKfQoKLnRhYmxlLWhlYWRlciB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBtYXJnaW4tYm90dG9tOiAxNXB4OwogIHBhZGRpbmctYm90dG9tOiAxMnB4OwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTRlN2VkOwp9CgoudGFibGUtaGVhZGVyIGgzIHsKICBtYXJnaW46IDA7CiAgY29sb3I6ICMzMDMxMzM7CiAgZm9udC1zaXplOiAxNnB4OwogIGZvbnQtd2VpZ2h0OiA2MDA7Cn0KCi5oZWFkZXItYWN0aW9ucyB7CiAgZGlzcGxheTogZmxleDsKICBnYXA6IDhweDsKfQoKLnRhYmxlLWNvbnRlbnQgewogIGZsZXg6IDE7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICBtYXgtaGVpZ2h0OiBjYWxjKDM1dmggLSAxMDBweCk7Cn0KCi5uby1kYXRhLXRpcCB7CiAgdGV4dC1hbGlnbjogY2VudGVyOwogIGNvbG9yOiAjOTA5Mzk5OwogIHBhZGRpbmc6IDQwcHg7CiAgZm9udC1zaXplOiAxNHB4OwogIGZsZXg6IDE7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwp9Cgo6ZGVlcCguZWwtdGFibGUpIHsKICBmb250LXNpemU6IDExcHg7Cn0KCjpkZWVwKC5lbC10YWJsZSB0aCkgewogIHBhZGRpbmc6IDhweCAwOwp9Cgo6ZGVlcCguZWwtdGFibGUgdGQpIHsKICBwYWRkaW5nOiA0cHggMDsKfQoKLmhpZ2gtdmFsdWUgewogIGNvbG9yOiAjZTZhMjNjOwogIGZvbnQtd2VpZ2h0OiBib2xkOwp9CgoubWVkaXVtLXZhbHVlIHsKICBjb2xvcjogIzQwOWVmZjsKfQoKLmxvdy12YWx1ZSB7CiAgY29sb3I6ICM5MDkzOTk7Cn0KCi8qIOmrmOS6ruihjOagt+W8jyAqLwo6ZGVlcCguaGlnaGxpZ2h0LXJvdykgewogIGJhY2tncm91bmQtY29sb3I6ICNlNmYzZmYgIWltcG9ydGFudDsKfQoKOmRlZXAoLmhpZ2hsaWdodC1yb3c6aG92ZXIpIHsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NlN2ZmICFpbXBvcnRhbnQ7Cn0KCi8qIOmAieS4reihjOagt+W8jyAqLwo6ZGVlcCguc2VsZWN0ZWQtcm93KSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2YwZjlmZiAhaW1wb3J0YW50OwogIGJvcmRlci1sZWZ0OiAzcHggc29saWQgIzQwOWVmZiAhaW1wb3J0YW50Owp9Cgo6ZGVlcCguc2VsZWN0ZWQtcm93OmhvdmVyKSB7CiAgYmFja2dyb3VuZC1jb2xvcjogI2U2ZjNmZiAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["/Users/robin/Desktop/CigaretteDistributionDemo/src/components/DataTable.vue"],"names":[],"mappings":"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","file":"/Users/robin/Desktop/CigaretteDistributionDemo/src/components/DataTable.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"data-table-container\">\n    <div class=\"table-header\">\n      <h3>卷烟投放数据统计表</h3>\n      <div class=\"header-actions\">\n        <el-button type=\"primary\" size=\"small\">\n          <el-icon><Download /></el-icon>\n          导出数据\n        </el-button>\n        <el-button type=\"success\" size=\"small\">\n          <el-icon><Refresh /></el-icon>\n          刷新\n        </el-button>\n      </div>\n    </div>\n    \n    <div class=\"table-content\" v-if=\"filteredTableData.length > 0\">\n      <el-table\n        :data=\"filteredTableData\"\n        style=\"width: 100%\"\n        height=\"100%\"\n        border\n        stripe\n        size=\"default\"\n        :header-cell-style=\"{ background: '#f5f7fa', color: '#606266' }\"\n        :row-class-name=\"getRowClassName\"\n        @row-click=\"handleRowClick\"\n        highlight-current-row\n      >\n        <el-table-column prop=\"cigaretteCode\" label=\"卷烟代码\" width=\"100\" align=\"center\" />\n        <el-table-column prop=\"cigaretteName\" label=\"卷烟名称\" width=\"180\" />\n        <el-table-column prop=\"plannedQuantity\" label=\"预投放量\" width=\"100\" align=\"center\" />\n        <el-table-column prop=\"actualQuantity\" label=\"实际投放量\" width=\"100\" align=\"center\" />\n        \n        <!-- 30个档位列，从30档开始到1档 -->\n        <el-table-column \n          v-for=\"position in reversedPositions\" \n          :key=\"`position${position}`\" \n          :prop=\"`position${position}`\" \n          :label=\"`${position}档`\" \n          width=\"50\" \n          align=\"center\"\n        >\n          <template #default=\"scope\">\n            <span :class=\"getCellClass(scope.row[`position${position}`])\">\n              {{ scope.row[`position${position}`] || 0 }}\n            </span>\n          </template>\n        </el-table-column>\n        \n        <el-table-column prop=\"notes\" label=\"备注\" min-width=\"120\" />\n      </el-table>\n    </div>\n    <div v-else class=\"no-data-tip\">\n      请先输入卷烟名称进行查询\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Download, Refresh } from '@element-plus/icons-vue'\n\nexport default {\n  name: 'DataTable',\n  components: {\n    Download,\n    Refresh\n  },\n  props: {\n    searchParams: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  emits: ['row-selected'],\n  data() {\n    return {\n      selectedRow: null,\n      searchResults: [], // 模糊查询结果\n      currentSearchIndex: -1, // 当前查询索引\n      tableData: [\n        {\n          cigaretteCode: 'HHL1916',\n          cigaretteName: '黄鹤楼（1916中支）',\n          year: 2024,\n          month: 1,\n          week: 1,\n          plannedQuantity: 1000,\n          actualQuantity: 950,\n          notes: '重点品牌，优先投放',\n          position1: 50, position2: 45, position3: 40, position4: 35, position5: 30,\n          position6: 25, position7: 20, position8: 15, position9: 10, position10: 8,\n          position11: 6, position12: 5, position13: 4, position14: 3, position15: 2,\n          position16: 2, position17: 1, position18: 1, position19: 1, position20: 1,\n          position21: 0, position22: 0, position23: 0, position24: 0, position25: 0,\n          position26: 0, position27: 0, position28: 0, position29: 0, position30: 0\n        },\n        {\n          cigaretteCode: 'ZH001',\n          cigaretteName: '中华（软包）',\n          year: 2024,\n          month: 1,\n          week: 1,\n          plannedQuantity: 800,\n          actualQuantity: 780,\n          notes: '高端品牌',\n          position1: 40, position2: 38, position3: 35, position4: 32, position5: 28,\n          position6: 24, position7: 20, position8: 16, position9: 12, position10: 10,\n          position11: 8, position12: 6, position13: 5, position14: 4, position15: 3,\n          position16: 2, position17: 2, position18: 1, position19: 1, position20: 1,\n          position21: 0, position22: 0, position23: 0, position24: 0, position25: 0,\n          position26: 0, position27: 0, position28: 0, position29: 0, position30: 0\n        },\n        {\n          cigaretteCode: 'YX002',\n          cigaretteName: '玉溪（软包）',\n          year: 2024,\n          month: 1,\n          week: 1,\n          plannedQuantity: 600,\n          actualQuantity: 580,\n          notes: '经典品牌',\n          position1: 30, position2: 28, position3: 25, position4: 22, position5: 20,\n          position6: 18, position7: 15, position8: 12, position9: 10, position10: 8,\n          position11: 6, position12: 5, position13: 4, position14: 3, position15: 2,\n          position16: 2, position17: 1, position18: 1, position19: 1, position20: 0,\n          position21: 0, position22: 0, position23: 0, position24: 0, position25: 0,\n          position26: 0, position27: 0, position28: 0, position29: 0, position30: 0\n        },\n        {\n          cigaretteCode: 'YY003',\n          cigaretteName: '云烟（软珍品）',\n          year: 2024,\n          month: 1,\n          week: 2,\n          plannedQuantity: 500,\n          actualQuantity: 480,\n          notes: '地方品牌',\n          position1: 25, position2: 23, position3: 20, position4: 18, position5: 15,\n          position6: 12, position7: 10, position8: 8, position9: 6, position10: 5,\n          position11: 4, position12: 3, position13: 2, position14: 2, position15: 1,\n          position16: 1, position17: 1, position18: 0, position19: 0, position20: 0,\n          position21: 0, position22: 0, position23: 0, position24: 0, position25: 0,\n          position26: 0, position27: 0, position28: 0, position29: 0, position30: 0\n        },\n        {\n          cigaretteCode: 'HTS004',\n          cigaretteName: '红塔山（经典100）',\n          year: 2024,\n          month: 2,\n          week: 1,\n          plannedQuantity: 400,\n          actualQuantity: 390,\n          notes: '畅销品牌',\n          position1: 20, position2: 18, position3: 16, position4: 14, position5: 12,\n          position6: 10, position7: 8, position8: 6, position9: 5, position10: 4,\n          position11: 3, position12: 2, position13: 2, position14: 1, position15: 1,\n          position16: 1, position17: 0, position18: 0, position19: 0, position20: 0,\n          position21: 0, position22: 0, position23: 0, position24: 0, position25: 0,\n          position26: 0, position27: 0, position28: 0, position29: 0, position30: 0\n        }\n      ]\n    }\n  },\n  computed: {\n    filteredTableData() {\n      let filtered = this.tableData\n      \n      // 根据年份、月份、周序号过滤\n      if (this.searchParams.year) {\n        filtered = filtered.filter(item => item.year === this.searchParams.year)\n      }\n      if (this.searchParams.month) {\n        filtered = filtered.filter(item => item.month === this.searchParams.month)\n      }\n      if (this.searchParams.week) {\n        filtered = filtered.filter(item => item.week === this.searchParams.week)\n      }\n      \n      // 如果有卷烟名称搜索，进行模糊查询\n      if (this.searchParams.cigaretteName) {\n        this.searchResults = filtered.filter(item => \n          item.cigaretteName.includes(this.searchParams.cigaretteName)\n        )\n      } else {\n        this.searchResults = []\n        this.currentSearchIndex = -1\n      }\n      \n      return filtered\n    },\n    reversedPositions() {\n      // 从30档到1档的顺序\n      return Array.from({length: 30}, (_, i) => 30 - i)\n    }\n  },\n  methods: {\n    getCellClass(value) {\n      if (!value || value === 0) return ''\n      if (value > 30) return 'high-value'\n      if (value > 10) return 'medium-value'\n      return 'low-value'\n    },\n    getRowClassName({ row, rowIndex }) {\n      let className = ''\n      \n      // 如果是选中的行，添加选中样式\n      if (this.selectedRow && this.selectedRow.cigaretteCode === row.cigaretteCode && \n          this.selectedRow.year === row.year && this.selectedRow.month === row.month && \n          this.selectedRow.week === row.week) {\n        className += 'selected-row '\n      }\n      \n      // 如果是当前查询高亮的行\n      if (this.searchParams.cigaretteName && this.searchResults.length > 0 && \n          this.currentSearchIndex >= 0) {\n        const currentResult = this.searchResults[this.currentSearchIndex]\n        if (currentResult && currentResult.cigaretteCode === row.cigaretteCode && \n            currentResult.year === row.year && currentResult.month === row.month && \n            currentResult.week === row.week) {\n          className += 'highlight-row '\n        }\n      }\n      \n      return className.trim()\n    },\n    handleRowClick(row) {\n      this.selectedRow = row\n      this.$emit('row-selected', row)\n    },\n    // 模糊查询下一个结果\n    searchNext() {\n      if (this.searchResults.length === 0) return\n      \n      this.currentSearchIndex = (this.currentSearchIndex + 1) % this.searchResults.length\n      this.$forceUpdate() // 强制更新视图\n    },\n    // 重置搜索\n    resetSearch() {\n      this.searchResults = []\n      this.currentSearchIndex = -1\n      this.selectedRow = null\n    },\n    updatePositionData(cigaretteName, positionData) {\n      // 更新表格中对应卷烟的档位数据\n      const itemIndex = this.tableData.findIndex(row => row.cigaretteName.includes(cigaretteName))\n      if (itemIndex !== -1) {\n        // 创建新的数据对象，确保响应式更新\n        const updatedItem = { ...this.tableData[itemIndex] }\n        \n        // 更新档位数据\n        Object.keys(positionData).forEach(key => {\n          if (key.startsWith('position')) {\n            updatedItem[key] = positionData[key]\n          }\n        })\n        \n        // 使用Vue 3的响应式方式更新数组元素\n        this.tableData.splice(itemIndex, 1, updatedItem)\n        \n        console.log(`表格数据已更新: ${cigaretteName}`, updatedItem)\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.data-table-container {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.table-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n  padding-bottom: 12px;\n  border-bottom: 1px solid #e4e7ed;\n}\n\n.table-header h3 {\n  margin: 0;\n  color: #303133;\n  font-size: 16px;\n  font-weight: 600;\n}\n\n.header-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.table-content {\n  flex: 1;\n  overflow: hidden;\n  max-height: calc(35vh - 100px);\n}\n\n.no-data-tip {\n  text-align: center;\n  color: #909399;\n  padding: 40px;\n  font-size: 14px;\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n:deep(.el-table) {\n  font-size: 11px;\n}\n\n:deep(.el-table th) {\n  padding: 8px 0;\n}\n\n:deep(.el-table td) {\n  padding: 4px 0;\n}\n\n.high-value {\n  color: #e6a23c;\n  font-weight: bold;\n}\n\n.medium-value {\n  color: #409eff;\n}\n\n.low-value {\n  color: #909399;\n}\n\n/* 高亮行样式 */\n:deep(.highlight-row) {\n  background-color: #e6f3ff !important;\n}\n\n:deep(.highlight-row:hover) {\n  background-color: #cce7ff !important;\n}\n\n/* 选中行样式 */\n:deep(.selected-row) {\n  background-color: #f0f9ff !important;\n  border-left: 3px solid #409eff !important;\n}\n\n:deep(.selected-row:hover) {\n  background-color: #e6f3ff !important;\n}\n</style>"]}]}