# å·çƒŸæŠ•æ”¾ç®¡ç†ç³»ç»Ÿå‰ç«¯æ¥å£è¯´æ˜æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†å·çƒŸæŠ•æ”¾ç®¡ç†ç³»ç»Ÿå‰ç«¯è°ƒç”¨çš„æ‰€æœ‰åç«¯æ¥å£ï¼ŒåŒ…æ‹¬è¯·æ±‚æ ¼å¼ã€å‚æ•°è¯´æ˜ã€å“åº”æ•°æ®ç»“æ„ç­‰ï¼Œä¾›åç«¯å¼€å‘äººå‘˜å®ç°æ¥å£æ—¶å‚è€ƒã€‚

### ğŸ·ï¸ åŸºæœ¬ä¿¡æ¯

- **é¡¹ç›®åç§°**: å·çƒŸæŠ•æ”¾ç®¡ç†ç³»ç»Ÿ
- **å‰ç«¯æŠ€æœ¯æ ˆ**: Vue 3 + Element Plus + Axios
- **APIåŸºç¡€è·¯å¾„**: `/api/cigarette`
- **æ•°æ®æ ¼å¼**: JSON
- **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
- **æ›´æ–°æ—¶é—´**: 2025å¹´1æœˆ9æ—¥

---

## ğŸŒ é€šç”¨æ¥å£é…ç½®

### 1. åŸºç¡€é…ç½®

```javascript
// APIåŸºç¡€é…ç½®
baseURL: process.env.VUE_APP_API_BASE_URL || '/api/cigarette'
timeout: 10000ms
headers: {
  'Content-Type': 'application/json'
}
```

### 2. è¯·æ±‚æ‹¦æˆªå™¨
å‰ç«¯ä¼šåœ¨æ¯ä¸ªè¯·æ±‚ä¸­æ·»åŠ ä»¥ä¸‹å¤„ç†ï¼š
- æ‰“å°è¯·æ±‚æ—¥å¿—ï¼ˆå¼€å‘æ¨¡å¼ï¼‰
- è‡ªåŠ¨é”™è¯¯å¤„ç†

### 3. å“åº”æ‹¦æˆªå™¨
å‰ç«¯æœŸæœ›çš„æ ‡å‡†å“åº”æ ¼å¼ï¼š
```json
{
  "success": true|false,
  "message": "æ“ä½œç»“æœæ¶ˆæ¯",
  "data": {}, // æˆ– []
  "total": 0, // åˆ†é¡µæŸ¥è¯¢æ—¶
  "originalTotal": 0 // åŸå§‹è®°å½•æ•°ï¼ˆå¯é€‰ï¼‰
}
```

---

## ğŸ“ æ ¸å¿ƒä¸šåŠ¡æ¥å£

### 1. å¥åº·æ£€æŸ¥æ¥å£

**æ¥å£åœ°å€**: `GET /api/cigarette/health`  
**åŠŸèƒ½æè¿°**: æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€  
**è°ƒç”¨åœºæ™¯**: ç³»ç»Ÿå¯åŠ¨æ—¶ã€å¥åº·ç›‘æ§

#### è¯·æ±‚å‚æ•°
æ— 

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "æœåŠ¡æ­£å¸¸",
  "timestamp": "2025-01-09T10:30:00Z"
}
```

---

### 2. æŸ¥è¯¢å·çƒŸåˆ†é…æ•°æ®

**æ¥å£åœ°å€**: `POST /api/cigarette/query`  
**åŠŸèƒ½æè¿°**: æ ¹æ®æ—¶é—´æ¡ä»¶æŸ¥è¯¢å·çƒŸæŠ•æ”¾åˆ†é…æ•°æ®  
**è°ƒç”¨åœºæ™¯**: ä¸»è¦çš„æ•°æ®æŸ¥è¯¢åŠŸèƒ½ï¼Œè¡¨æ ¼æ•°æ®å±•ç¤º

#### è¯·æ±‚å‚æ•°
```json
{
  "year": 2024,
  "month": 1,
  "weekSeq": 1
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| year | Integer | æ˜¯ | å¹´ä»½ |
| month | Integer | æ˜¯ | æœˆä»½ï¼ˆ1-12ï¼‰ |
| weekSeq | Integer | æ˜¯ | å‘¨åºå·ï¼ˆ1-5ï¼‰ |

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "total": 10,
  "originalTotal": 15,
  "data": [
    {
      "id": 1,
      "cigCode": "42010114",
      "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )",
      "deliveryArea": "åŸåŒº",
      "year": 2024,
      "month": 1,
      "weekSeq": 1,
      "deliveryMethod": "æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾",
      "deliveryEtype": "æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç ",
      "advAmount": 1000.00,
      "actualDelivery": 980.50,
      "remark": "å¤‡æ³¨ä¿¡æ¯",
      "d30": 50.00,
      "d29": 45.00,
      // ... d28 åˆ° d1 çš„æ¡£ä½æ•°æ®
      "d1": 0.80
    }
  ]
}
```

#### å‰ç«¯å¤„ç†é€»è¾‘
- éªŒè¯å¿…å¡«å‚æ•°ï¼ˆyear, month, weekSeqï¼‰
- æˆåŠŸæ—¶æ˜¾ç¤ºæŸ¥è¯¢ç»“æœå’Œè®°å½•æ•°é‡
- è‡ªåŠ¨æ·»åŠ æ—¥æœŸæ˜¾ç¤ºå­—æ®µ
- å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„æ’åº
- å•æ¡è®°å½•æ—¶è‡ªåŠ¨é€‰ä¸­

---

### 3. æŸ¥è¯¢åŸå§‹æ•°æ®

**æ¥å£åœ°å€**: `POST /api/cigarette/query-raw`  
**åŠŸèƒ½æè¿°**: æŸ¥è¯¢æœªç»å¤„ç†çš„åŸå§‹æ•°æ®  
**è°ƒç”¨åœºæ™¯**: éœ€è¦è·å–åŸå§‹æ•°æ®æ—¶

#### è¯·æ±‚å‚æ•°
åŒæŸ¥è¯¢å·çƒŸåˆ†é…æ•°æ®æ¥å£

#### å“åº”æ•°æ®
è¿”å›åŸå§‹æ•°æ®è®°å½•ï¼Œä¸åŒ…å«é¢„æŠ•æ”¾é‡å’Œå®é™…æŠ•æ”¾é‡å­—æ®µçš„è®¡ç®—ç»“æœ

---

### 4. æ›´æ–°å·çƒŸä¿¡æ¯

**æ¥å£åœ°å€**: `POST /api/cigarette/update-cigarette`  
**åŠŸèƒ½æè¿°**: æ›´æ–°å·çƒŸçš„æŠ•æ”¾ä¿¡æ¯å’Œæ¡£ä½åˆ†é…ï¼ˆæ¨èä½¿ç”¨ï¼‰  
**è°ƒç”¨åœºæ™¯**: ä¿®æ”¹æ¡£ä½è®¾ç½®ã€æ–°å¢æŠ•æ”¾åŒºåŸŸ

#### è¯·æ±‚å‚æ•°
```json
{
  "cigCode": "42010114",
  "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )",
  "year": 2024,
  "month": 1,
  "weekSeq": 1,
  "deliveryMethod": "æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾",
  "deliveryEtype": "æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç ",
  "deliveryArea": "åŸåŒº",
  "distribution": [50.00, 45.00, 40.00, /* ... 30ä¸ªæ¡£ä½å€¼ */],
  "remark": "æ›´æ–°å¤‡æ³¨"
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| cigCode | String | æ˜¯ | å·çƒŸä»£ç  |
| cigName | String | æ˜¯ | å·çƒŸåç§° |
| year | Integer | æ˜¯ | å¹´ä»½ |
| month | Integer | æ˜¯ | æœˆä»½ |
| weekSeq | Integer | æ˜¯ | å‘¨åºå· |
| deliveryMethod | String | æ˜¯ | æŠ•æ”¾æ–¹å¼ |
| deliveryEtype | String | å¦ | æ‰©å±•æŠ•æ”¾ç±»å‹ |
| deliveryArea | String | æ˜¯ | æŠ•æ”¾åŒºåŸŸ |
| distribution | Array&lt;Number&gt; | æ˜¯ | 30ä¸ªæ¡£ä½åˆ†é…å€¼ï¼ˆD30åˆ°D1ï¼‰ |
| remark | String | å¦ | å¤‡æ³¨ä¿¡æ¯ |

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "æ›´æ–°æˆåŠŸ"
}
```

#### å‰ç«¯å¤„ç†é€»è¾‘
- æ¡£ä½æ•°æ®éªŒè¯ï¼ˆéé€’å¢çº¦æŸï¼‰
- æ‰¹é‡æ–°å¢åŒºåŸŸæ—¶ä½¿ç”¨Promise.all
- æˆåŠŸååˆ·æ–°è¡¨æ ¼æ•°æ®

---

### 5. åˆ é™¤æŠ•æ”¾åŒºåŸŸ

**æ¥å£åœ°å€**: `POST /api/cigarette/delete-delivery-areas`  
**åŠŸèƒ½æè¿°**: åˆ é™¤æŒ‡å®šå·çƒŸçš„ç‰¹å®šæŠ•æ”¾åŒºåŸŸè®°å½•  
**è°ƒç”¨åœºæ™¯**: ç”¨æˆ·åˆ é™¤ä¸éœ€è¦çš„æŠ•æ”¾åŒºåŸŸ

#### è¯·æ±‚å‚æ•°
```json
{
  "cigCode": "42010114",
  "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )",
  "year": 2024,
  "month": 1,
  "weekSeq": 1,
  "areasToDelete": ["ä¹¡ä¸­å¿ƒåŒº", "æ‘åº„"]
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| cigCode | String | æ˜¯ | å·çƒŸä»£ç  |
| cigName | String | æ˜¯ | å·çƒŸåç§° |
| year | Integer | æ˜¯ | å¹´ä»½ |
| month | Integer | æ˜¯ | æœˆä»½ |
| weekSeq | Integer | æ˜¯ | å‘¨åºå· |
| areasToDelete | Array&lt;String&gt; | æ˜¯ | è¦åˆ é™¤çš„æŠ•æ”¾åŒºåŸŸåˆ—è¡¨ |

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "åˆ é™¤æˆåŠŸ",
  "deletedCount": 2,
  "deletedAreas": ["ä¹¡ä¸­å¿ƒåŒº", "æ‘åº„"],
  "remainingAreas": ["é•‡ä¸­å¿ƒåŒº", "é•‡ä¹¡ç»“åˆåŒº"],
  "remainingCount": 2
}
```

#### å‰ç«¯å¤„ç†é€»è¾‘
- ç¡®è®¤å¯¹è¯æ¡†ç¡®è®¤åˆ é™¤
- éªŒè¯è‡³å°‘ä¿ç•™ä¸€ä¸ªåŒºåŸŸ
- æˆåŠŸååˆ·æ–°è¡¨æ ¼å¹¶é‡æ–°é€‰ä¸­

---

## ğŸ“Š æ•°æ®å¯¼å…¥æ¥å£

### 6. å¯¼å…¥å·çƒŸæŠ•æ”¾åŸºæœ¬ä¿¡æ¯

**æ¥å£åœ°å€**: `POST /api/cigarette/import-basic-info`  
**åŠŸèƒ½æè¿°**: å¯¼å…¥å·çƒŸæŠ•æ”¾åŸºæœ¬ä¿¡æ¯Excelæ–‡ä»¶  
**è°ƒç”¨åœºæ™¯**: æ‰¹é‡å¯¼å…¥åŸºç¡€æ•°æ®

#### è¯·æ±‚å‚æ•°ï¼ˆFormDataï¼‰
```javascript
// FormDataæ ¼å¼
const formData = new FormData()
formData.append('file', excelFile)        // Excelæ–‡ä»¶
formData.append('year', 2024)             // å¹´ä»½
formData.append('month', 1)               // æœˆä»½
formData.append('weekSeq', 1)             // å‘¨åºå·
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| file | File | æ˜¯ | Excelæ–‡ä»¶(.xlsx, .xls) |
| year | Integer | æ˜¯ | å¹´ä»½ |
| month | Integer | æ˜¯ | æœˆä»½ |
| weekSeq | Integer | æ˜¯ | å‘¨åºå· |

#### è¯·æ±‚å¤´
```
Content-Type: multipart/form-data
```

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "å¯¼å…¥æˆåŠŸ",
  "importCount": 25
}
```

#### å‰ç«¯å¤„ç†é€»è¾‘
- æ–‡ä»¶æ ¼å¼éªŒè¯ï¼ˆåªå…è®¸Excelï¼‰
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
- æ—¶é—´å‚æ•°å®Œæ•´æ€§éªŒè¯
- æˆåŠŸååˆ·æ–°è¡¨æ ¼æ•°æ®

---

### 7. å¯¼å…¥åŒºåŸŸå®¢æˆ·æ•°

**æ¥å£åœ°å€**: `POST /api/cigarette/import-customer-data`  
**åŠŸèƒ½æè¿°**: å¯¼å…¥åŒºåŸŸå®¢æˆ·æ•°Excelæ–‡ä»¶  
**è°ƒç”¨åœºæ™¯**: å¯¼å…¥å®¢æˆ·æ•°æ®ä»¥æ”¯æŒåˆ†é…ç®—æ³•

#### è¯·æ±‚å‚æ•°ï¼ˆFormDataï¼‰
```javascript
const formData = new FormData()
formData.append('file', excelFile)                    // Excelæ–‡ä»¶
formData.append('distributionType', 'æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾')    // æŠ•æ”¾ç±»å‹
formData.append('extendedType', 'æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç ')    // æ‰©å±•ç±»å‹ï¼ˆå¯é€‰ï¼‰
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| file | File | æ˜¯ | Excelæ–‡ä»¶(.xlsx, .xls) |
| distributionType | String | æ˜¯ | æŠ•æ”¾ç±»å‹ |
| extendedType | String | å¦ | æ‰©å±•æŠ•æ”¾ç±»å‹ï¼ˆæŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾æ—¶å¿…å¡«ï¼‰ |

#### æŠ•æ”¾ç±»å‹é€‰é¡¹
- **æŒ‰æ¡£ä½ç»Ÿä¸€æŠ•æ”¾**: ä¸éœ€è¦æ‰©å±•ç±»å‹
- **æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾**: éœ€è¦é€‰æ‹©æ‰©å±•ç±»å‹
  - æ¡£ä½+åŒºå¿
  - æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç 
  - æ¡£ä½+å¸‚åœºç±»å‹
  - æ¡£ä½+ä¸šæ€

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "å¯¼å…¥æˆåŠŸ",
  "importCount": 15
}
```

---

### 8. ç”Ÿæˆåˆ†é…æ–¹æ¡ˆ

**æ¥å£åœ°å€**: `POST /api/cigarette/generate-distribution-plan`  
**åŠŸèƒ½æè¿°**: æ ¹æ®åŸºæœ¬ä¿¡æ¯å’Œå®¢æˆ·æ•°æ®è‡ªåŠ¨ç”Ÿæˆåˆ†é…æ–¹æ¡ˆ  
**è°ƒç”¨åœºæ™¯**: æ™ºèƒ½ç”Ÿæˆæ¡£ä½åˆ†é…ç®—æ³•

#### è¯·æ±‚å‚æ•°
```json
{
  "year": 2024,
  "month": 1,
  "weekSeq": 1
}
```

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| year | Integer | æ˜¯ | å¹´ä»½ |
| month | Integer | æ˜¯ | æœˆä»½ |
| weekSeq | Integer | æ˜¯ | å‘¨åºå· |

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "message": "åˆ†é…æ–¹æ¡ˆç”ŸæˆæˆåŠŸ",
  "processedCount": 25,
  "generatedPlans": [
    {
      "cigCode": "42010114",
      "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )",
      "deliveryArea": "åŸåŒº",
      "distribution": [50.00, 45.00, /* ... 30ä¸ªæ¡£ä½å€¼ */]
    }
  ],
  "timestamp": "2025-01-09T10:30:00Z"
}
```

#### å‰ç«¯å¤„ç†é€»è¾‘
- æ—¶é—´å‚æ•°å®Œæ•´æ€§éªŒè¯
- æ˜¾ç¤ºå¤„ç†è¿›åº¦å’Œç»“æœç»Ÿè®¡
- æˆåŠŸåè‡ªåŠ¨åˆ·æ–°è¡¨æ ¼

---

## ğŸ¯ è¾…åŠ©åŠŸèƒ½æ¥å£

### 9. æ›´æ–°å·çƒŸåˆ†é…ï¼ˆä¼ ç»Ÿæ¥å£ï¼‰

**æ¥å£åœ°å€**: `POST /api/cigarette/update`  
**åŠŸèƒ½æè¿°**: ä¼ ç»Ÿçš„å·çƒŸåˆ†é…æ›´æ–°æ¥å£  
**è°ƒç”¨åœºæ™¯**: å‘ä¸‹å…¼å®¹ï¼Œå»ºè®®ä½¿ç”¨update-cigarette

#### è¯·æ±‚å‚æ•°
```json
{
  "cigCode": "42010114",
  "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )",
  "distribution": [50.00, 45.00, /* ... 30ä¸ªæ¡£ä½å€¼ */],
  "deliveryAreas": "410101,410102,410103",
  "year": 2024,
  "month": 1,
  "weekSeq": 1
}
```

---

### 10. å†™å›åˆ†é…çŸ©é˜µ

**æ¥å£åœ°å€**: `POST /api/cigarette/write-back`  
**åŠŸèƒ½æè¿°**: å†™å›åˆ†é…çŸ©é˜µæ•°æ®  
**è°ƒç”¨åœºæ™¯**: ç‰¹å®šçš„æ•°æ®å†™å›æ“ä½œ

---

### 11. æµ‹è¯•åˆ†é…ç®—æ³•

**æ¥å£åœ°å€**: `GET /api/cigarette/test-algorithm`  
**åŠŸèƒ½æè¿°**: æµ‹è¯•åˆ†é…ç®—æ³•åŠŸèƒ½  
**è°ƒç”¨åœºæ™¯**: å¼€å‘æµ‹è¯•æ—¶éªŒè¯ç®—æ³•

---

## ğŸ—ï¸ æŠ•æ”¾æ–¹æ¡ˆç®¡ç†æ¥å£

### 12. æŸ¥è¯¢å·çƒŸæŠ•æ”¾æ–¹æ¡ˆ

**æ¥å£åœ°å€**: `GET /api/cigarette/distribution-plan/query`  
**åŠŸèƒ½æè¿°**: æŸ¥è¯¢æŠ•æ”¾æ–¹æ¡ˆæ•°æ®  

#### è¯·æ±‚å‚æ•°ï¼ˆQuery Parametersï¼‰
```
?cigaretteName=çº¢é‡‘é¾™&year=2024&month=1&week=1
```

---

### 13. ä¿å­˜æ¡£ä½è®¾ç½®

**æ¥å£åœ°å€**: `POST /api/cigarette/distribution-plan/save-positions`  
**åŠŸèƒ½æè¿°**: ä¿å­˜æ¡£ä½è®¾ç½®æ•°æ®  

---

### 14. è·å–æ¡£ä½æ•°æ®

**æ¥å£åœ°å€**: `GET /api/cigarette/distribution-plan/positions`  
**åŠŸèƒ½æè¿°**: è·å–ç‰¹å®šå·çƒŸçš„æ¡£ä½æ•°æ®  

#### è¯·æ±‚å‚æ•°ï¼ˆQuery Parametersï¼‰
```
?cigaretteName=çº¢é‡‘é¾™&year=2024&month=1&week=1
```

---

## ğŸš€ å·çƒŸåŸºç¡€æ•°æ®æ¥å£

### 15. è·å–å·çƒŸåˆ—è¡¨

**æ¥å£åœ°å€**: `GET /api/cigarette/cigarettes`  
**åŠŸèƒ½æè¿°**: è·å–æ‰€æœ‰å·çƒŸåˆ—è¡¨  

#### å“åº”ç¤ºä¾‹
```json
{
  "success": true,
  "data": [
    {
      "cigCode": "42010114",
      "cigName": "çº¢é‡‘é¾™(ç¡¬çˆ±ä½ çˆ†ç )"
    }
  ]
}
```

---

### 16. æœç´¢å·çƒŸ

**æ¥å£åœ°å€**: `GET /api/cigarette/cigarettes/search`  
**åŠŸèƒ½æè¿°**: æ ¹æ®å…³é”®è¯æœç´¢å·çƒŸ  

#### è¯·æ±‚å‚æ•°ï¼ˆQuery Parametersï¼‰
```
?keyword=çº¢é‡‘é¾™
```

---

## ğŸ“‹ æ•°æ®å­—å…¸

### 1. æŠ•æ”¾ç±»å‹é€‰é¡¹
```javascript
const distributionTypes = [
  'æŒ‰æ¡£ä½ç»Ÿä¸€æŠ•æ”¾',
  'æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾'
]
```

### 2. æ‰©å±•æŠ•æ”¾ç±»å‹é€‰é¡¹
```javascript
const extendedTypes = [
  'æ¡£ä½+åŒºå¿',
  'æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç ', 
  'æ¡£ä½+å¸‚åœºç±»å‹',
  'æ¡£ä½+ä¸šæ€'
]
```

### 3. æŠ•æ”¾åŒºåŸŸé€‰é¡¹

#### æŒ‰æ¡£ä½ç»Ÿä¸€æŠ•æ”¾
```javascript
const unifiedAreas = ['å…¨å¸‚']
```

#### æŒ‰æ¡£ä½æ‰©å±•æŠ•æ”¾
```javascript
const extendedAreaOptions = {
  'æ¡£ä½+åŒºå¿': ['ä¸¹æ±Ÿ', 'æˆ¿å¿', 'éƒ§è¥¿', 'éƒ§é˜³', 'ç«¹å±±', 'ç«¹æºª', 'åŸåŒº'],
  'æ¡£ä½+åŸä¹¡åˆ†ç±»ä»£ç ': ['ä¸»åŸåŒº', 'åŸä¹¡ç»“åˆåŒº', 'é•‡ä¸­å¿ƒåŒº', 'é•‡ä¹¡ç»“åˆåŒº', 'ç‰¹æ®ŠåŒºåŸŸ', 'ä¹¡ä¸­å¿ƒåŒº', 'æ‘åº„'],
  'æ¡£ä½+å¸‚åœºç±»å‹': ['åŸç½‘', 'å†œç½‘'],
  'æ¡£ä½+ä¸šæ€': ['ä¾¿åˆ©åº—', 'è¶…å¸‚', 'å•†åœº', 'çƒŸè‰ä¸“å–åº—', 'å¨±ä¹æœåŠ¡ç±»', 'å…¶ä»–']
}
```

### 4. æ¡£ä½æ•°æ®ç»“æ„
```javascript
// 30ä¸ªæ¡£ä½ï¼šD30åˆ°D1
const positionFields = ['d30', 'd29', 'd28', ..., 'd2', 'd1']
```

---

## âš ï¸ é”™è¯¯å¤„ç†è§„èŒƒ

### 1. æ ‡å‡†é”™è¯¯å“åº”
```json
{
  "success": false,
  "message": "å…·ä½“é”™è¯¯ä¿¡æ¯",
  "error": "ERROR_CODE", // å¯é€‰
  "details": {} // å¯é€‰çš„é”™è¯¯è¯¦æƒ…
}
```

### 2. å¸¸è§é”™è¯¯ç±»å‹
- **å‚æ•°éªŒè¯é”™è¯¯**: 400 Bad Request
- **æ•°æ®ä¸å­˜åœ¨**: 404 Not Found  
- **æœåŠ¡å™¨é”™è¯¯**: 500 Internal Server Error
- **æ–‡ä»¶æ ¼å¼é”™è¯¯**: 400 Bad Request
- **æ–‡ä»¶å¤§å°è¶…é™**: 413 Payload Too Large

### 3. å‰ç«¯é”™è¯¯å¤„ç†
- æ‰€æœ‰APIè°ƒç”¨éƒ½åŒ…å«try-catch
- ç»Ÿä¸€çš„é”™è¯¯æ¶ˆæ¯æ˜¾ç¤º
- è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆéƒ¨åˆ†æ¥å£ï¼‰
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

---

## ğŸ”’ å®‰å…¨è€ƒè™‘

### 1. è¯·æ±‚éªŒè¯
- å‚æ•°ç±»å‹éªŒè¯
- å‚æ•°èŒƒå›´éªŒè¯
- å¿…å¡«å­—æ®µéªŒè¯

### 2. æ–‡ä»¶ä¸Šä¼ å®‰å…¨
- æ–‡ä»¶ç±»å‹é™åˆ¶ï¼ˆåªå…è®¸Excelï¼‰
- æ–‡ä»¶å¤§å°é™åˆ¶ï¼ˆ10MBï¼‰
- æ–‡ä»¶å†…å®¹éªŒè¯

### 3. æ•°æ®ä¸€è‡´æ€§
- äº‹åŠ¡å¤„ç†
- å¹¶å‘æ§åˆ¶
- æ•°æ®å®Œæ•´æ€§çº¦æŸ

---

## ğŸ“ˆ æ€§èƒ½è¦æ±‚

### 1. å“åº”æ—¶é—´
- æŸ¥è¯¢æ¥å£: < 2ç§’
- æ›´æ–°æ¥å£: < 3ç§’
- å¯¼å…¥æ¥å£: < 30ç§’
- ç”Ÿæˆæ–¹æ¡ˆ: < 60ç§’

### 2. å¹¶å‘æ”¯æŒ
- æ”¯æŒå¤šç”¨æˆ·åŒæ—¶æŸ¥è¯¢
- é¿å…å¹¶å‘ä¿®æ”¹å†²çª
- åˆç†çš„è¿æ¥æ± é…ç½®

### 3. æ•°æ®é‡æ”¯æŒ
- å•æ¬¡æŸ¥è¯¢: < 10000æ¡è®°å½•
- æ‰¹é‡å¯¼å…¥: < 50000æ¡è®°å½•
- æ–‡ä»¶ä¸Šä¼ : < 10MB

---

## ğŸ§ª æ¥å£æµ‹è¯•å»ºè®®

### 1. åŠŸèƒ½æµ‹è¯•
- æ­£å¸¸æµç¨‹æµ‹è¯•
- è¾¹ç•Œå€¼æµ‹è¯•
- å¼‚å¸¸æƒ…å†µæµ‹è¯•

### 2. æ€§èƒ½æµ‹è¯•
- å“åº”æ—¶é—´æµ‹è¯•
- å¹¶å‘å‹åŠ›æµ‹è¯•
- å¤§æ•°æ®é‡æµ‹è¯•

### 3. å®‰å…¨æµ‹è¯•
- å‚æ•°æ³¨å…¥æµ‹è¯•
- æ–‡ä»¶ä¸Šä¼ å®‰å…¨æµ‹è¯•
- æƒé™éªŒè¯æµ‹è¯•

---

## ğŸ“ å¼€å‘æ³¨æ„äº‹é¡¹

### 1. æ¥å£ç‰ˆæœ¬æ§åˆ¶
- ä¿æŒå‘ä¸‹å…¼å®¹
- æ–°åŠŸèƒ½æ–°æ¥å£
- åºŸå¼ƒæ¥å£æ¸è¿›å¼æ›¿æ¢

### 2. æ—¥å¿—è®°å½•
- è®°å½•å…³é”®æ“ä½œæ—¥å¿—
- é”™è¯¯è¯¦æƒ…è®°å½•
- æ€§èƒ½ç›‘æ§æ•°æ®

### 3. æ–‡æ¡£ç»´æŠ¤
- æ¥å£å˜æ›´åŠæ—¶æ›´æ–°æ–‡æ¡£
- æä¾›æµ‹è¯•ç¤ºä¾‹
- ä¿æŒæ–‡æ¡£ä¸ä»£ç åŒæ­¥

---

## ğŸ‰ æ€»ç»“

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº†å·çƒŸæŠ•æ”¾ç®¡ç†ç³»ç»Ÿå‰ç«¯è°ƒç”¨çš„16ä¸ªæ ¸å¿ƒæ¥å£ï¼Œæ¶µç›–äº†ï¼š

âœ… **æ ¸å¿ƒä¸šåŠ¡**: æŸ¥è¯¢ã€æ›´æ–°ã€åˆ é™¤å·çƒŸæŠ•æ”¾æ•°æ®  
âœ… **æ•°æ®å¯¼å…¥**: Excelæ–‡ä»¶å¯¼å…¥åŠŸèƒ½  
âœ… **æ™ºèƒ½ç®—æ³•**: è‡ªåŠ¨ç”Ÿæˆåˆ†é…æ–¹æ¡ˆ  
âœ… **è¾…åŠ©åŠŸèƒ½**: å¥åº·æ£€æŸ¥ã€æ•°æ®ç®¡ç†ç­‰  

