卷烟预测记录含义编码规则表

1. 第一步：根据投放类型分组编码定义：按档位统一投放（A），按档位扩展投放（B），按需投放（C）

2. 第二步：根据扩展投放类型继续分组编码定义（只有上一步编码为B才进行第二步定义，否则不做任何编码直接跳到第三步）：档位+区县（1），档位+市场类型（2），档位+区县+市场类型（3），档位+城乡分类代码（4），档位+业态（5）

3. 第三步：根据投放区域分组编码定义：
   1. 档位+区县：城区（1）、丹江（2）、房县（3）、郧西（4）、郧阳（5）、竹山（6）、竹溪（7）
   2. 档位+市场类型：城网（C），农网（N）
   3. 档位+城乡分类代码：主城区（①），城乡结合区（②），镇中心区（③），镇乡接合区（④），特殊区域（⑤），乡中心区（⑥），村庄（⑦）
   4. 档位+业态：便利店（a），超市（b），商场（c），烟草专业店（d），娱乐服务类（e），其他（f）
4. 第四步：根据demo_test_data表中指定日期的卷烟的投放区域对应的档位设置进行数据语义降维：连续档位聚合，对连续档位且投放量相同的记录，采用“档位跨度*投放量”的公式化编码。例如D30-D26（5个连续档）投放量为9，则编码为5×9，D25-D21（5个连续档）投放量为8，编码为5×8，D20-D11（10个连续档）投放量为7，则编码为10×7，D10-D1（10个连续档）投放量为6，则编码为10×6。多分组进行联合表达，不同投放量分组通过＋连接形成复合编码。因此上述例子为（5×9+5×8+10×7+10×6）
5. 结构化表达：提供编码与解码的表达方式：
   1. 编码化表达：”采用投放类型+扩展投放类型+（区域编码）+（投放量编码）“的层级结构输出。
   2. 解码化表达：对编码化表达进行解码输出，对于指定日期的某卷烟，如果某几个区域投放档位设置完全相同，则也许在区域编码中进行聚合（用+连接），否则无需聚合
6. 区域聚合示例一：
   1. 编码化表达字段为：B1（2+3+4+5+6+7）（5×9+5×8+5×7+5×6）
   2. 则解码化表达字段为：按档位扩展投放、档位+区县、丹江房县郧西郧阳竹山竹溪、（5×9+5×8+5×7+5×6）